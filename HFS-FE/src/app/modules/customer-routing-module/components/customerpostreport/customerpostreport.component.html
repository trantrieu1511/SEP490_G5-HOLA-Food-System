<div class="page-content">
    <div class="card sidebar" *ngIf="this.authService.getUserInfor().role == 'CU'">
        <!-- <a id="profile-option" class="report-sidebar-option" href="#" (click)="this.router.navigateByUrl('/profile');"
            onclick="event.preventDefault();">Profile</a>
        <div class="dash-line"></div>
        <a id="myorder-option" class="report-sidebar-option" href="#" onclick="event.preventDefault();">Order</a>
        <div class="dash-line"></div>
        <a id="shipaddress-option" class="report-sidebar-option" (click)="this.router.navigateByUrl('/shipaddress')"
            href="#" onclick="event.preventDefault();">Ship address</a>
        <div class="dash-line"></div>
        <a id="postreport-option" class="report-sidebar-option-selected" href="#" onclick="event.preventDefault();">Post
            report
        </a>
        <div class="dash-line"></div>
        <a id="menureport-option" class="report-sidebar-option" href="#"
            (click)="this.router.navigateByUrl('/menureport');" onclick="event.preventDefault();">Menu
            report
        </a> -->
        <!-- <button pButton pRipple class="p-button-info p-mr-2 p-button-outlined" style="width: 100%;">Profile</button><hr>
        <button pButton pRipple class="p-button-info p-mr-2 p-button-outlined" style="width: 100%;">MyOrder</button> -->

        <app-menu-myaccount></app-menu-myaccount>

    </div>

    <div class="card main-body">
        <h2>My post report</h2>
        <p-table #dt [value]="lstPostReport" dataKey="id" styleClass="p-datatable-customers" [rowHover]="true"
            [rows]="10" [showCurrentPageReport]="true" [paginator]="lstPostReport.length > 5" [filterDelay]="0"
            [rowsPerPageOptions]="[5,10,25,50]" currentPageReportTemplate="Total: {totalRecords} post reports"
            [globalFilterFields]="['reportContent']" responsiveLayout="scroll" [loading]="loading">
            <ng-template pTemplate="caption">
                <div class="flex flex-row align-items-center flex-wrap justify-content-between ">
                    <div class="flex-1">
                        <span class="p-input-icon-left">
                            <i class="pi pi-search"></i>
                            <input pInputText type="text" #textInput
                                (input)="dt.filterGlobal(textInput.value, 'contains')"
                                placeholder="Search by report content" />
                        </span>
                    </div>
                </div>
            </ng-template>
            <ng-template pTemplate="header">
                <tr>
                    <th pSortableColumn="reportContent">
                        <div class="flex justify-content-between align-items-center">
                            Report Content
                            <p-sortIcon field="reportContent"></p-sortIcon>
                            <p-columnFilter type="text" field="reportContent" display="menu"
                                class="ml-auto"></p-columnFilter>
                        </div>
                    </th>
                    <!-- <th style="min-width: 8rem">
                        <div class="flex justify-content-between align-items-center">
                            Action
                        </div>
                    </th> -->
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-postrp>
                <tr class="p-selectable-row">
                    <td (click)="viewContentDetail(postrp)">
                        <div id="reportcontent-data">
                            {{postrp.reportContent}}
                        </div>
                    </td>
                </tr>
            </ng-template>
            <ng-template pTemplate="emptymessage">
                <tr>
                    <td colspan="8">No post report yet.</td>
                </tr>
            </ng-template>
        </p-table>
    </div>
</div>

<p-dialog header="Report detail" [(visible)]="visibleContentDialog" [style]="{width: '50vw'}" [maximizable]="true"
    [modal]="true">
    <table class="table-report-detail">
        <tbody>
            <tr>
                <th>You created this report on: </th>
                <td>
                    {{contentDialog.createDate}}
                </td>
            </tr>
            <tr>
                <th>Your report content: </th>
                <td>
                    {{contentDialog.reportContent}}
                </td>
            </tr>
            <!-- <tr>
                <th>Name of the seller whose post is reported by you: </th>
                <td>
                    {{contentDialog.sellerName}}
                </td>
            </tr> -->
            <tr>
                <th>Shop's name: </th>
                <td>
                    {{contentDialog.shopName}}
                </td>
            </tr>
            <tr>
                <th>Post content: </th>
                <td>
                    {{contentDialog.postContent}}
                </td>
            </tr>
            <tr>
                <th>Current report status: </th>
                <td>
                    <p-tag [value]="contentDialog.status" [severity]="getSeverity(contentDialog.status)"></p-tag>
                </td>
            </tr>
            <tr>
                <th>Moderator's note: </th>
                <td>
                    {{contentDialog.note}}
                </td>
            </tr>
            <!-- <div class="dash-line"></div> -->
            <!-- Post detail -->
            <!-- <tr>
                <th style="font-size: large; padding-top: 15px;">Post detail<th>
            </tr> -->
        </tbody>
    </table>
</p-dialog>
<p-toast [baseZIndex]="99999" key="notify"></p-toast>